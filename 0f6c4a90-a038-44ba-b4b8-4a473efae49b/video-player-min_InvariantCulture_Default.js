var Wdc=Wdc||{};Wdc.Cx=Wdc.Cx||{},Wdc.Cx.Video=Wdc.Cx.Video||{},Wdc.Cx.Video=function(){"use strict";function a(){if("zh-cn"!==window.location.pathname.split("/")[1].toLowerCase()){var a=document.getElementsByClassName("yt-player");if(0!==a.length){f.addYoutubeIframe();for(var b=function(){var a,b=this.parentNode.dataset.id,c=this.parentNode.dataset.cn,d=function(d){var g=!1,h=!1,i=!1;a.playVideo();var j=a.getDuration();a.addEventListener("onStateChange",function(d){var k,l;1===d.data&&(f.sendVideoTelemetry(awa.behavior.VIDEOSTART,e.CLICKLEFT,c,b,0),l=setInterval(function(){k=(a.getCurrentTime()/j*100).toFixed(2),Math.floor(k)>=25&&!g&&(f.sendVideoTelemetry(awa.behavior.VIDEOCHECKPOINT,e.CLICKLEFT,c,b,25),g=!0),Math.floor(k)>=50&&!h&&(f.sendVideoTelemetry(awa.behavior.VIDEOCHECKPOINT,e.CLICKLEFT,c,b,50),h=!0),Math.floor(k)>=75&&!i&&(f.sendVideoTelemetry(awa.behavior.VIDEOCHECKPOINT,e.CLICKLEFT,c,b,75),i=!0)},1e3)),0===d.data&&(f.sendVideoTelemetry(awa.behavior.VIDEOCOMPLETE,e.CLICKLEFT,c,b,100),clearInterval(l))})},g=function(c){var e=$(c).attr("id");a=new YT.Player(e,{videoId:b,playerVars:{controls:1,modestbranding:1},events:{onReady:d}})};g(this)},c=document.getElementsByClassName("player"),d=0;d<a.length;d++){c[d].setAttribute("id","player"+d);var g=a[d].dataset.poster,h=a[d].dataset.alt;c[d].innerHTML=f.getYoutubeImg(g,h),c[d].onclick=b,a[d].appendChild(c[d])}}}}function b(){var a=$(".c9-iframe");0!==a.length&&$.each(a,function(a,b){var c=$(b).data("alt"),d=$(b).data("poster");$(b).append(f.createChannelNineImg(d,c));var e;$(b).on("keypress",function(a){e=this,13===a.keyCode&&f.playVideo(e)}).on("click",function(){e=this,f.playVideo(e)})})}function c(){var a=0;$("a, input, select, option, .c9-iframe img, .player img").each(function(){this.tabIndex=a++})}function d(){a(),b(),c()}var e={CLICKLEFT:"CL",KEYBOARDENTER:"KS"},f={addYoutubeIframe:function(){var a=document.createElement("script");$.getScript("https://www.youtube.com/iframe_api",function(b,c,d){"success"===c&&200===d.status&&a.setAttribute("src","https://www.youtube.com/iframe_api")});var b=document.getElementsByTagName("script"),c=b[b.length-1];c.parentNode.insertBefore(a,c)},getYoutubeImg:function(a,b){return"<img class='img-responsive embed-responsive-item' src='"+a+"' alt='"+b+"'/>"},createChannelNineImg:function(a,b){return $("<img class='img-responsive embed-responsive-item' src='"+a+"' alt='"+b+"'/>")},createChannelNineIframe:function(a){return $("<iframe src='"+a+"' allowFullScreen frameBorder='0'></iframe>")},playVideo:function(a){var b=$(a).data("src");$(a).addClass("embeddedvideo").empty(),$(a).append(f.createChannelNineIframe(b)),$(a).removeClass("embed-responsive-16by9")},sendVideoTelemetry:function(a,b,c,d,e){var f={behavior:a,actionType:b,contentTags:{vidnm:c,vidid:d,vidpct:e}};awa.ct.captureContentPageAction(f)}};return{init:d}}(),$(function(){Wdc.Cx.Video.init()});