var Wdc={};Wdc.Cpub={},Wdc.Cpub.Samples={},Wdc.Cpub.Samples=function(){function a(){$(J).val(ka.toLowerCase()),h()}function b(){if(window.location.href.indexOf("?")!==-1&&window.location.href.indexOf("setvar=")===-1){var a,b,c,d,e=window.location.href.split("?")[1].split("&"),f=function(a,b){var c=a===la?b.substring(b.length,a.length).split("+").join(" "):b.substring(b.length,a.length);return c};$.each(e,function(e,g){g.indexOf(la)!==-1?a=f(la,g):g.indexOf(ma)!==-1?b=f(ma,g):g.indexOf(na)!==-1?c=f(na,g):d=f(oa,g)}),"undefined"!=typeof a&&a!==p&&$(R).val(a),"undefined"!=typeof b&&b!==p&&$(H).val(b.toLowerCase()),"undefined"!=typeof c&&c!==p&&$(I).val(c.toLowerCase()),"undefined"!=typeof d&&d!==p&&$(J).val(d.toLowerCase()),h()}}function c(){va.createListGrid(ra),va.pagination.navigation(ra.length),va.updateSearchResultStatus(ra.length,p,p,p,p)}function d(){for(var a=$(E).length,b=[],c=0;c<4-a;){var d=Math.floor(Math.random()*ra.length+1);b.push(ra[d]),c++}va.createTileGrid(b,1)}function e(){var a=function(a,b){var c=[];for(var d in a)a.hasOwnProperty(d)&&c.push({key:d,value:a[d]});c.sort(function(a,b){var c=a.value.toLowerCase(),d=b.value.toLowerCase();return c<d?-1:c>d?1:0});for(var e=0;e<c.length;e++){var f=$("<option value='"+c[e].key.toLowerCase()+"'>"+c[e].value+"</option>");b.append(f)}};a(va.dictionary.categories,$(H)),a(va.dictionary.languages,$(I)),a(va.dictionary.platforms,$(J))}function f(){var a,c=1e3,d=p;$(R).on("keyup",function(){var b=$(R).val().replace(/\s/g,p);b!==d&&(d=b,g(),clearTimeout(a),a=setTimeout(va.filter.filterSamples,c))});var e=function(){window.location.href.indexOf("?")===-1||window.location.href.indexOf("setvar=")!==-1?(d=p,$(R).val(p),$(H).val(ga),$(I).val(ga),$(J).val(ga)):b(),h()};$(T).click(e),$(T).keydown(function(a){13===a.keyCode&&e()})}function g(){$(U).hide(),$(S).removeClass(da),$(x).addClass(da),$(w).addClass(da),$(C).addClass(da)}function h(){g(),setTimeout(va.filter.filterSamples,100)}function i(){$(H).on("change",function(){h()}),$(I).on("change",function(){h()}),$(J).on("change",function(){h()}),$(F).on("change",function(){va.toggleTableView()})}function j(){$(".data-list-view").on("click",function(a){if(a.stopPropagation(),"A"===a.target.tagName){var b=a.target.innerHTML;va.sendTelemetry(s.length,l,m,n,o,b)}})}function k(){va.updateSearchBarWidth(),e(),a(),d(),b(),f(),i(),j(),va.updateAccessibility()}var l,m,n,o,p="",q="https://raw.githubusercontent.com/",r="&",s=[],t=$(".compatPrev").text(),u=$(".compatNext").text(),v=$(".imgPlaceholder").text(),w=".table-tile-view",x=".table-list-view",y=".table-tile-view > .row",z=".table-tile-view > .row > div",A=".table-list-view > .table > .data-list-view",B=".table-list-view > .table > .data-list-view > tr",C=".list-pagination",D=".row-feature",E=".row-feature > div",F=".view-select",G=".view-select option:selected",H=".category-select",I=".language-select",J=".platform-select",K=".category-select option:selected",L=".language-select option:selected",M=".platform-select option:selected",N=".tile-pagination, .list-pagination",O=".tile-pagination li, .list-pagination li",P=".previous-pagination",Q=".next-pagination",R=".form-searchbox input[type='text']",S=".loading",T=".search-clear-btn",U=".search-status-hasinput",V=".search-status-noinput",W=".share-query-link",X=".share-query",Y=".copy-query",Z=".not-copy-error",_=".unable-copy-error",aa=".unsupported-copy-error",ba=".form-searchbox input[type=text]",ca="active",da="hidden",ea="list-view",fa="class",ga="all",ha="Category",ia="Language",ja="Platform",ka="UWP",la="sq=",ma="cat=",na="lang=",oa="platform=",pa=12,qa=1,ra=[];for(var sa in window.samplesData)if(window.samplesData.hasOwnProperty(sa))for(var ta=window.samplesData[sa],ua=0;ua<ta.length;ua++)ra.push(ta[ua]);ra.sort(function(a,b){var c=a.Name.toLowerCase(),d=b.Name.toLowerCase();return c<d?-1:c>d?1:0});var va={dictionary:{categories:{Accessibility:"Accessibility",AppSettings:"App settings",AudioVideoAndCamera:"Audio, video, and camera",Communications:"Communications",ContactsAndCalendar:"Contacts and calendar",ControlsLayoutAndText:"Controls, layout, and text",CustomUserInteractions:"Custom user interactions",Data:"Data",DebugTestAndPerf:"Debugging, testing, and performance",DeepLinksAndAppToAppCommunication:"Deep links and app-to-app communication",DevicesSensorsAndPower:"Devices, sensors, and power",FilesFoldersAndLibraries:"Files, folders, and libraries",Fluent:"Fluent Design",Gaming:"Gaming",GlobalizationAndLocalization:"Globalization and localization",GraphicsAndAnimation:"Graphics and animation",Holographic:"Holographic",IdentitySecurityAndEncryption:"Identity, security, and encryption",Inking:"Ink",LaunchingAndBackgroundTasks:"Launching and background tasks",MapsAndLocation:"Maps and location",Navigation:"Navigation",NetworkingAndWebServices:"Networking and web services",PlatformArchitecture:"Platform and architecture",Printing:"Printing",SpeechAndCortana:"Speech and Cortana",Threading:"Threading",Touch:"Touch",TilesToastAndNotifications:"Tiles, toasts, and notifications",TrialsAdsAndInAppPurchases:"Trials, ads, and in-app purchases"},languages:{cs:"C#",vb:"VB",js:"JS",cpp:"C++"},platforms:{UWP:"UWP",ClassicDesktop:"Classic desktop"}},updateSearchBarWidth:function(){$(ba).width(485),$(window).resize(function(){var a=window.innerWidth;a>650?$(ba).width(485):a>470?$(ba).width(354):a>358&&$(ba).width(230)})},removeAllView:function(){va.removeTableTileView(),va.removeTableListView(),va.removePaginationView()},removeTableTileView:function(){$(y).html(p)},removeTableListView:function(){$(A).html(p)},removePaginationView:function(){$(C).html(p)},tableEllipsis:function(){var a=$("table tr td:nth-child(2)");a.css("max-width",$(window).outerWidth()-900),$(window).resize(function(){a.css("max-width",$(window).outerWidth()-600>=1200?1e3:$(window).outerWidth()-600)})},createTileGrid:function(a,b){for(var c=0;c<a.length;c++){var d=a[c].Name,e=a[c].HtmlUrl,f=a[c].Description,g=a[c].Description,h="Undefined"!==a[c].Image?q+a[c].FullName+"/master/"+a[c].Image:v,i=$("<div class='col-xs-24 col-md-12 col-lg-6'></div>"),j=$("<section class='section item-section'></section>"),k=$("<header class='section-header'></header>"),l=$("<div class='media-container'><a target='_blank' href='"+e+"'><img class='img-responsive win-color-bg-10' src='"+h+"' /></a></div>"),m=$("<h5 class='section-title text-maxlines-1'><a target='_blank' href='"+e+"'>"+d+"</a></h5>"),n=$("<div class='section-body'><p class='text-maxlines-1' title='"+g+"' class='media-title'>"+f+"</p></div>"),o=k.append(l).append(m),p=j.append(o).append(n),r=i.append(p);switch(b){case 1:$(D).append(r);break;case 2:$(y).append(r)}}},createListGrid:function(a){for(var b=0;b<a.length;b++){var c=a[b].Name,d=a[b].HtmlUrl,e=a[b].Description,f=a[b].Description,g=(a[b].Platform,$("<tr></tr>")),h=$("<td><a target='_blank' href='"+d+"'>"+c+"</a></td>"),i=$("<td title='"+f+"'>"+e+"</td>"),j=g.append(h).append(i);$(A).append(j)}va.tableEllipsis()},toggleTableView:function(){$(G).attr(fa)!==ea?($(w).removeClass(da),$(x).addClass(da)):($(x).removeClass(da),$(w).addClass(da))},pagination:{changePageNumber:function(a){if(!isNaN(a)){$(z).hide(),$(B).hide(),$(O).hasClass(ca)&&$(O).removeClass(ca),$(".tile-pagination li[data-page-number='"+a+"'], .list-pagination li[data-page-number='"+a+"']").addClass(ca);for(var b=(a-1)*pa,c=a*pa,d=b+1;d<c+1;d++)$(y+" > div:nth-of-type("+d+")").show(),$(A+" > tr:nth-of-type("+d+")").show();qa=a}},updatePageNumbersList:function(a,b,c,d){$(O).hasClass(ca)&&$(O).removeClass(ca),$(".tile-pagination li[data-page-number='"+a+"'], .list-pagination li[data-page-number='"+a+"']").addClass(ca),$(".page").addClass(da);var e=[];if(b<=5){c.hide(),d.hide();for(var f=1;f<=b;f++)e.push(f)}else a<=2||a>=b-1?(c.show(),d.hide(),e.push(1,2,b-1,b)):(c.show(),d.show(),e.push(1,b),3===a?e.push(3,4,5):a===b-2?e.push(b-4,b-3,b-2):e.push(a-1,a,a+1));for(var g=0;g<e.length;g++)$("li.page[data-page-number='"+e[g]+"']").removeClass(da)},navigation:function(a){if(a>0){va.removePaginationView();var b=a/pa,c=Math.ceil(b),d=$("<li class='previous-pagination'><a href='#' aria-label='"+t+"'><span aria-label='true'></span></a></li>"),e=$("<li class='next-pagination'><a href='#' aria-label='"+u+"'><span aria-label='true'></span></a></li>"),f=$(N);f.append(d);for(var g=$("<li class='left-truncation-dots disabled'><a href='#'>...</a></li>"),h=$("<li class='right-truncation-dots disabled'><a href='#'>...</a></li>"),i=1;i<=c;i++)f.append("<li class='page hidden' data-page-number='"+i+"'><a>"+i+"</a></li>"),2===i?f.append(g):i===c-1&&f.append(h);f.append(e),$(z).hide(),$(B).hide(),$.each($(z),function(a,b){a<pa&&$(this).show()}),$.each($(B),function(a,b){a<pa&&$(this).show()}),va.pagination.updatePageNumbersList(1,c,g,h),$(".page").on("click",function(){var a=$(this).data("page-number");va.pagination.updatePageNumbersList(a,c,g,h),va.pagination.changePageNumber(a)}),$(P).on("click",function(a){a.preventDefault(),1!==qa&&(va.pagination.updatePageNumbersList(qa-1,c,g,h),va.pagination.changePageNumber(--qa))}),$(Q).on("click",function(a){a.preventDefault(),qa<b&&(va.pagination.updatePageNumbersList(qa+1,c,g,h),va.pagination.changePageNumber(++qa))})}else va.removePaginationView()}},updateAccessibility:function(){var a=0;$("a, input, select, option").each(function(){this.tabIndex=a++}),$(".left-truncation-dots a, .right-truncation-dots a").removeAttr("tabindex")},updateSearchResultStatus:function(a,b,c,d,e){$(".search-result-count").text(a);var f=$(H)[0].value,g=$(I)[0].value,h=$(J)[0].value;b||f!==ga||g!==ga||h!==ga?($(T).show(),$(V).hide(),$(U).show()):($(T).hide(),$(V).show(),$(U).hide());var i=[];"undefined"!=typeof b&&null!==b&&b!==p&&i.push($(".search-status-query-label").text()+' "'+b+'"'),"undefined"!=typeof c&&null!==c&&c!==p&&f!==ga&&i.push($(".search-status-category-label").text()+' "'+c+'"'),"undefined"!=typeof d&&null!==d&&d!==p&&g!==ga&&i.push($(".search-status-language-label").text()+' "'+d+'"'),"undefined"!=typeof e&&null!==e&&e!==p&&h!==ga&&i.push($(".search-status-platform-label").text()+' "'+e+'"'),$(".search-inputs").text(i.join(", "))},sendTelemetry:function(a,b,c,d,e,f){MscomCustomEvent("ms.search.query",null===b?p:b,"ms.search.productfilter",null===c?p:c,"ms.search.type",null===d?p:d,"ms.search.sourcefilter",null===e?p:e,"ms.search.count",a,"cn",f)},updateShareQuery:function(a,b,c,d,e){if(0===a)return void $(X).hide();$(Z).addClass(da),$(_).addClass(da),$(aa).addClass(da);var f=$(Y).data("copy");$(Y).text(f),$(X).show();var g,h,i,j,k=p,l=window.location.origin,m=window.location.pathname;null!==b&&(g=b.length>1?b.join("+"):b[0],k+=la+g+r),null!==c&&(h=c.toLowerCase(),k+=ma+h+r),null!==d&&(i=d.toLowerCase(),k+=na+i+r),null!==e&&(j=e.toLowerCase(),k+=oa+j+r);var n=l+m+"?"+k.slice(0,-1);$(W).text(n);var o=function(a){var b=document.queryCommandSupported("copy");if(b){var c=document.createElement("textarea");c.value=a,document.body.appendChild(c),c.select();try{var d=document.execCommand("copy"),e=$(Y).data("copied");d?$(Y).text(e):$(Z).removeClass(da)}catch(a){$(_).removeClass(da)}document.body.removeChild(c)}else $(aa).removeClass(da)};$(Y).on("click",function(a){a.stopPropagation(),o($(W).text())}),$(".cancel-query").on("click",function(a){a.stopPropagation(),$("#query-modal").modal("hide")})},filter:{getSearchResult:function(a){for(var b=[],c=a.filter(Boolean),d=0;d<ra.length;d++)for(var e=0;e<c.length;e++){var f=ra[d],g=c[e],h=f.Keywords+" "+f.Name.toLowerCase()+" "+f.Description.toLowerCase(),i=h.match("\\b"+g);null!==i&&$.inArray(f,b)===-1&&b.push(f)}return b},getFilteredResult:function(a,b,c){for(var d=[],e=0;e<a.length;e++){var f=a[e][b].match("\\b"+c+"\\b");null!==f&&d.push(a[e])}return d},getMappedString:function(a,b){var c;for(var d in b)b.hasOwnProperty(d)&&b[d]===a&&(c=d);return c},createFilteredSample:function(a){va.removeAllView(),0!==a.length&&(va.createListGrid(a),va.pagination.navigation(a.length))},showNoResultUI:function(a,b,c,d,e,f,g,h,i){va.updateSearchResultStatus(0,b,c,d,e),va.sendTelemetry(a.length,f,g,h,i),va.updateAccessibility()},filterSamples:function(){$(C).removeClass(da);var a=$(R).val(),b=$(K).text(),d=$(L).text(),e=$(M).text(),f=va.filter.getMappedString(b,va.dictionary.categories),g=va.filter.getMappedString(d,va.dictionary.languages),h=va.filter.getMappedString(e,va.dictionary.platforms);if(l=a!==p?a.toLowerCase().split(" "):null,m=void 0!==f?f:null,n=void 0!==g?g:null,o=void 0!==h?h:null,$(S).addClass(da),$(G).attr(fa)!==ea?$(w).removeClass(da):$(x).removeClass(da),null!==l){if(s=va.filter.getSearchResult(l),va.removeAllView(),0===s.length)return void va.filter.showNoResultUI(s,a,b,d,e,l,m,n,o);if(null!==m){if(s=va.filter.getFilteredResult(s,ha,m),0===s.length)return void va.filter.showNoResultUI(s,a,b,d,e,l,m,n,o);if(null!==n){if(s=va.filter.getFilteredResult(s,ia,n),0===s.length)return void va.filter.showNoResultUI(s,a,b,d,e,l,m,n,o);if(null!==o&&(s=va.filter.getFilteredResult(s,ja,o),0===s.length))return void va.filter.showNoResultUI(s,a,b,d,e,l,m,n,o)}else if(null!==o&&(s=va.filter.getFilteredResult(s,ja,o),0===s.length))return void va.filter.showNoResultUI(s,a,b,d,e,l,m,n,o)}else if(null!==n){if(s=va.filter.getFilteredResult(s,ia,n),0===s.length)return void va.filter.showNoResultUI(s,a,b,d,e,l,m,n,o)}else null!==o&&(s=va.filter.getFilteredResult(s,ja,o));va.filter.createFilteredSample(s),va.updateSearchResultStatus(s.length,a,b,d,e),va.sendTelemetry(s.length,l,m,n,o)}else if(null!==m){if(s=va.filter.getFilteredResult(ra,ha,m),va.removeAllView(),0===s.length)return void va.filter.showNoResultUI(s,a,b,d,e,l,m,n,o);if(null!==n){if(s=va.filter.getFilteredResult(s,ia,n),0===s.length)return void va.filter.showNoResultUI(s,a,b,d,e,l,m,n,o);if(null!==o&&(s=va.filter.getFilteredResult(s,ja,o),0===s.length))return void va.filter.showNoResultUI(s,a,b,d,e,l,m,n,o)}else if(null!==o&&(s=va.filter.getFilteredResult(s,ja,o),0===s.length))return void va.filter.showNoResultUI(s,a,b,d,e,l,m,n,o);va.filter.createFilteredSample(s),va.updateSearchResultStatus(s.length,a,b,d,e),va.sendTelemetry(s.length,l,m,n,o)}else if(null!==n){if(s=va.filter.getFilteredResult(ra,ia,n),va.removeAllView(),0===s.length)return void va.filter.showNoResultUI(s,a,b,d,e,l,m,n,o);if(null!==o&&(s=va.filter.getFilteredResult(s,ja,o),0===s.length))return void va.filter.showNoResultUI(s,a,b,d,e,l,m,n,o);va.filter.createFilteredSample(s),va.updateSearchResultStatus(s.length,a,b,d,e),va.sendTelemetry(s.length,l,m,n,o)}else null!==o?(s=va.filter.getFilteredResult(ra,ja,o),va.filter.createFilteredSample(s),va.updateSearchResultStatus(s.length,a,b,d,e),va.sendTelemetry(s.length,l,m,n,o)):(va.removeAllView(),c());va.updateAccessibility()}}};return{init:k}}(),$(function(){Wdc.Cpub.Samples.init()});