var Wdc={};Wdc.Cpub={};Wdc.Cpub.Samples={};Wdc.Cpub.Samples=function(){var b="",Z="https://raw.githubusercontent.com/",Y=$(".compatPrev").text(),X=$(".compatNext").text(),W=$(".imgPlaceholder").text(),t=$("<li class='left-truncation-dots'><a>...</a></li>"),s=$("<li class='right-truncation-dots'><a>...</a></li>"),o=".table-tile-view",n=".table-list-view",x=".table-tile-view > .row",v=".table-tile-view > .row > div",w=".table-list-view > .table > .data-list-view",u=".table-list-view > .table > .data-list-view > tr",y=".list-pagination",R=".row-feature",N=".row-feature > div",S=".view-select",B=".view-select option:selected",l=".category-select",m=".language-select",i=".platform-select",K=".tile-pagination, .list-pagination",p=".tile-pagination li, .list-pagination li",V=".previous-pagination",U=".next-pagination",q=".form-searchbox input[type='text']",D=".loading",z=".no-result",h="active",c="hidden",F="list-view",H="class",g="all",C="Category",r="Language",e="Platform",E="UWP",j=12,f=1,d=[];for(var J in window.samplesData){if(!window.samplesData.hasOwnProperty(J))continue;for(var I=window.samplesData[J],A=0;A<I.length;A++)d.push(I[A])}d.sort(function(c,d){var a=c.Name.toLowerCase(),b=d.Name.toLowerCase();return a<b?-1:a>b?1:0});var a={dictionary:{categories:{Accessibility:"Accessibility",AppSettings:"App settings",AudioVideoAndCamera:"Audio, video, and camera",Communications:"Communications",ContactsAndCalendar:"Contacts and calendar",ControlsLayoutAndText:"Controls, layout, and text",CustomUserInteractions:"Custom user interactions",Data:"Data",DebugTestAndPerf:"Debugging, testing, and performance",DeepLinksAndAppToAppCommunication:"Deep links and app-to-app communication",DevicesSensorsAndPower:"Devices, sensors, and power",FilesFoldersAndLibraries:"Files, folders, and libraries",Gaming:"Gaming",GlobalizationAndLocalization:"Globalization and localization",GraphicsAndAnimation:"Graphics and animation",Holographic:"Holographic",IdentitySecurityAndEncryption:"Identity, security, and encryption",Inking:"Ink",LaunchingAndBackgroundTasks:"Launching and background tasks",MapsAndLocation:"Maps and location",Navigation:"Navigation",NetworkingAndWebServices:"Networking and web services",PlatformArchitecture:"Platform and architecture",Printing:"Printing",SpeechAndCortana:"Speech and Cortana",Threading:"Threading",Touch:"Touch",TilesToastAndNotifications:"Tiles, toasts, and notifications",TrialsAdsAndInAppPurchases:"Trials, ads, and in-app purchases"},languages:{cs:"C#",vb:"VB",js:"JS",cpp:"C++"},platform:{UWP:"UWP",ClassicDesktop:"Classic desktop"}},removeAllView:function(){a.removeTableTileView();a.removeTableListView();a.removePaginationView()},removeTableTileView:function(){$(x).html(b)},removeTableListView:function(){$(w).html(b)},removePaginationView:function(){$(y).html(b)},tableEllipsis:function(){var a=$("table tr td:nth-child(2)");a.css("max-width",$(window).outerWidth()-900);$(window).resize(function(){a.css("max-width",$(window).outerWidth()-600>=1200?1e3:$(window).outerWidth()-600)})},createTileGrid:function(b,l){for(var a=0;a<b.length;a++){var q=b[a].Name,d=b[a].HtmlUrl,k=b[a].Description,h=b[a].Description,o=b[a].Image!=="Undefined"?Z+b[a].FullName+"/master/"+b[a].Image:W,p=$("<div class='col-xs-24 col-md-12 col-lg-6'></div>"),m=$("<section class='section item-section'></section>"),n=$("<header class='section-header'></header>"),g=$("<div class='media-container'><a target='_blank' href='"+d+"'><img class='img-responsive win-color-bg-10' src='"+o+"' /></a></div>"),i=$("<h5 class='section-title text-maxlines-1'><a target='_blank' href='"+d+"'>"+q+"</a></h5>"),j=$("<div class='section-body'><p class='text-maxlines-1' title='"+h+"' class='media-title'>"+k+"</p></div>"),e=n.append(g).append(i),f=m.append(e).append(j),c=p.append(f);switch(l){case 1:$(R).append(c);break;case 2:$(x).append(c)}}},createListGrid:function(c){for(var b=0;b<c.length;b++){var j=c[b].Name,i=c[b].HtmlUrl,f=c[b].Description,d=c[b].Description,l=c[b].Platform,k=$("<tr></tr>"),g=$("<td><a target='_blank' href='"+i+"'>"+j+"</a></td>"),e=$("<td title='"+d+"'>"+f+"</td>"),h=k.append(g).append(e);$(w).append(h)}a.tableEllipsis()},createOptionElements:function(e,d){for(var b=e.sort(),a=0;a<b.length;a++){var c=$("<option>"+b[a]+"</option>");d.append(c)}$(i+" option:last-child").attr("selected","selected")},toggleTableView:function(){if($(B).attr(H)!==F){$(o).removeClass(c);$(n).addClass(c)}else{$(n).removeClass(c);$(o).addClass(c)}},pagination:{changePageNumber:function(a){if(isNaN(a))return;$(v).hide();$(u).hide();$(p).hasClass(h)&&$(p).removeClass(h);$(".tile-pagination li[data-page-number='"+a+"'], .list-pagination li[data-page-number='"+a+"']").addClass(h);for(var c=(a-1)*j,d=a*j,b=c+1;b<d+1;b++){$(x+" > div:nth-of-type("+b+")").show();$(w+" > tr:nth-of-type("+b+")").show()}f=a},updatePageNumbersList:function(b,a){$(p).hasClass(h)&&$(p).removeClass(h);$(".tile-pagination li[data-page-number='"+b+"'], .list-pagination li[data-page-number='"+b+"']").addClass(h);$(".page").addClass("hidden");var c=[];if(a<=5){t.hide();s.hide();for(var d=1;d<=a;d++)c.push(d)}else if(b<=2||b>=a-1){t.show();s.hide();c.push(1,2,a-1,a)}else{t.show();s.show();c.push(1,a);if(b===3)c.push(3,4,5);else if(b===a-2)c.push(a-4,a-3,a-2);else c.push(b-1,b,b+1)}for(var d=0;d<c.length;d++)$("li.page[data-page-number='"+c[d]+"']").removeClass("hidden")},navigation:function(g){if(g>0){a.removePaginationView();var e=g/j,c=Math.ceil(e),i=$("<li class='previous-pagination'><a href='#' aria-label='"+Y+"'><span aria-label='true'></span></a></li>"),h=$("<li class='next-pagination'><a href='#' aria-label='"+X+"'><span aria-label='true'></span></a></li>"),d=$(K);d.append(i);for(var b=1;b<=c;b++){d.append("<li class='page hidden' data-page-number='"+b+"'><a>"+b+"</a></li>");if(b===2)d.append(t);else b===c-1&&d.append(s)}d.append(h);$(v).hide();$(u).hide();$.each($(v),function(a){a<j&&$(this).show()});$.each($(u),function(a){a<j&&$(this).show()});a.pagination.updatePageNumbersList(1,c);$(".page").on("click",function(){var b=$(this).data("page-number");a.pagination.updatePageNumbersList(b,c);a.pagination.changePageNumber(b)});$(V).on("click",function(b){b.preventDefault();if(f!==1){a.pagination.updatePageNumbersList(f-1,c);a.pagination.changePageNumber(--f)}else return});$(U).on("click",function(b){b.preventDefault();if(f<e){a.pagination.updatePageNumbersList(f+1,c);a.pagination.changePageNumber(++f)}else return})}else a.removePaginationView()}},updateAccessibility:function(){var a=0;$("a, input, select, option").each(function(){this.tabIndex=a++});$(".left-truncation-dots a, .right-truncation-dots a").removeAttr("tabindex")},updateSearchResultStatus:function(h,f,a,c,d){$(".search-result-count").text(h);if(!f&&!a&&!c&&!d){$(".search-status-hasinput").hide();$(".search-status-noinput").show();$(".search-clear-btn").hide();return}$(".search-status-hasinput").show();$(".search-status-noinput").hide();$(".search-clear-btn").show();var e=[];typeof f!=="undefined"&&f!==null&&f!==b&&e.push($(".search-status-query-label").text()+' "'+f+'"');typeof a!=="undefined"&&a!==null&&a!==b&&a!==g&&e.push($(".search-status-category-label").text()+' "'+a+'"');typeof c!=="undefined"&&c!==null&&c!==b&&c!==g&&e.push($(".search-status-language-label").text()+' "'+c+'"');typeof d!=="undefined"&&d!==null&&d!==b&&d!==g&&e.push($(".search-status-platform-label").text()+' "'+d+'"');$(".search-inputs").text(e.join(", "))},sendTelemetry:function(f,e,a,c,d){MscomCustomEvent("ms.search.query",e===null?b:e,"ms.search.productfilter",a===null?b:a,"ms.search.searchtype",c===null?b:c,"ms.search.sourcefilter",d===null?b:d,"ms.search.count",f)},filter:{getSearchResult:function(i){for(var b=[],f=i.filter(Boolean),e=0;e<d.length;e++)for(var c=0;c<f.length;c++){var a=d[e],h=f[c],g=a.Keywords+" "+a.Name.toLowerCase()+" "+a.Description.toLowerCase(),j=g.match("\\b"+h);if(j!==null)$.inArray(a,b)===-1&&b.push(a)}return b},getFilteredResult:function(b,d,e){for(var c=[],a=0;a<b.length;a++){var f=b[a][d].match("\\b"+e+"\\b");f!==null&&c.push(b[a])}return c},getMappedString:function(d,a){var c;for(var b in a){if(!a.hasOwnProperty(b))continue;if(a[b]===d)c=b}return c},createFilteredSample:function(b){a.removeAllView();if(b.length===0)return;a.createTileGrid(b,2);a.createListGrid(b);a.pagination.navigation(b.length)},showNoResultUI:function(j,f,b,d,e,k,g,h,i){$(z).removeClass(c);a.updateSearchResultStatus(0,f,b,d,e);a.sendTelemetry(j.length,k,g,h,i);a.updateAccessibility()},filterSamples:function(){$(z).addClass(c);$(y).removeClass(c);var f=[],k=$(q).val(),s=$(l).val(),t=$(m).val(),u=$(i).val(),v=a.filter.getMappedString(s,a.dictionary.categories),w=a.filter.getMappedString(t,a.dictionary.languages),x=a.filter.getMappedString(u,a.dictionary.platform),p=k!==b?k.toLowerCase().split(" "):null,j=v!==undefined?v:null,h=w!==undefined?w:null,g=x!==undefined?x:null;$(D).addClass(c);if($(B).attr(H)!==F)$(o).removeClass(c);else $(n).removeClass(c);if(p!==null){f=a.filter.getSearchResult(p);a.removeAllView();if(f.length===0){a.filter.showNoResultUI(f,k,s,t,u,p,j,h,g);return}if(j!==null){f=a.filter.getFilteredResult(f,C,j);if(f.length===0){a.filter.showNoResultUI(f,k,s,t,u,p,j,h,g);return}if(h!==null){f=a.filter.getFilteredResult(f,r,h);if(f.length===0){a.filter.showNoResultUI(f,k,s,t,u,p,j,h,g);return}if(g!==null){f=a.filter.getFilteredResult(f,e,g);if(f.length===0){a.filter.showNoResultUI(f,k,s,t,u,p,j,h,g);return}}}else if(g!==null){f=a.filter.getFilteredResult(f,e,g);if(f.length===0){a.filter.showNoResultUI(f,k,s,t,u,p,j,h,g);return}}}else if(h!==null){f=a.filter.getFilteredResult(f,r,h);if(f.length===0){a.filter.showNoResultUI(f,k,s,t,u,p,j,h,g);return}}else if(g!==null)f=a.filter.getFilteredResult(f,e,g);a.filter.createFilteredSample(f);a.updateSearchResultStatus(f.length,k,s,t,u);a.sendTelemetry(f.length,p,j,h,g)}else if(j!==null){f=a.filter.getFilteredResult(d,C,j);a.removeAllView();if(f.length===0){a.filter.showNoResultUI(f,k,s,t,u,p,j,h,g);return}if(h!==null){f=a.filter.getFilteredResult(f,r,h);if(f.length===0){a.filter.showNoResultUI(f,k,s,t,u,p,j,h,g);return}if(g!==null){f=a.filter.getFilteredResult(f,e,g);if(f.length===0){a.filter.showNoResultUI(f,k,s,t,u,p,j,h,g);return}}}else if(g!==null){f=a.filter.getFilteredResult(f,e,g);if(f.length===0){a.filter.showNoResultUI(f,k,s,t,u,p,j,h,g);return}}a.filter.createFilteredSample(f);a.updateSearchResultStatus(f.length,k,s,t,u);a.sendTelemetry(f.length,p,j,h,g)}else if(h!==null){f=a.filter.getFilteredResult(d,r,h);a.removeAllView();if(f.length===0){a.filter.showNoResultUI(f,k,s,t,u,p,j,h,g);return}if(g!==null){f=a.filter.getFilteredResult(f,e,g);if(f.length===0){a.filter.showNoResultUI(f,k,s,t,u,p,j,h,g);return}}a.filter.createFilteredSample(f);a.updateSearchResultStatus(f.length,k,s,t,u);a.sendTelemetry(f.length,p,j,h,g)}else if(g!==null){f=a.filter.getFilteredResult(d,e,g);a.filter.createFilteredSample(f);a.updateSearchResultStatus(f.length,k,s,t,u);a.sendTelemetry(f.length,p,j,h,g)}else{a.removeAllView();M()}a.updateAccessibility()}}};function L(){var c=a.filter.getFilteredResult(d,e,E);a.createListGrid(c);a.pagination.navigation(c.length);a.updateSearchResultStatus(c.length,b,b,b,E)}function M(){a.createListGrid(d);a.pagination.navigation(d.length);a.updateSearchResultStatus(d.length,b,b,b,b)}function P(){var e=$(N).length,b=[],c=0;while(c<4-e){var f=Math.floor(Math.random()*d.length+1);b.push(d[f]);c++}a.createTileGrid(b,1)}function T(){var b=[],c=[],d=[];for(var f in a.dictionary.languages){if(a.dictionary.languages.hasOwnProperty[f])continue;c.push(a.dictionary.languages[f])}for(var e in a.dictionary.categories){if(a.dictionary.categories.hasOwnProperty[e])continue;b.push(a.dictionary.categories[e])}for(var g in a.dictionary.platform){if(a.dictionary.platform.hasOwnProperty[g])continue;d.push(a.dictionary.platform[g])}a.createOptionElements(b,$(l));a.createOptionElements(c,$(m));a.createOptionElements(d,$(i))}function Q(){var e,f=1e3,c=b;$(q).on("keyup",function(){var d=$(q).val().replace(/\s/g,b);if(d===c)return;c=d;G();clearTimeout(e);e=setTimeout(a.filter.filterSamples,f)});var d=function(){c=b;$(q).val(b);$(l).val(g);$(m).val(g);$(i).val(g);k()};$(".search-clear-btn").click(d);$(".search-clear-btn").keydown(function(a){a.keyCode===13&&d()})}function G(){$(".search-status").hide();$(z).addClass(c);$(D).removeClass(c);$(n).addClass(c);$(o).addClass(c);$(y).addClass(c)}function k(){G();setTimeout(a.filter.filterSamples,100)}function O(){$(l).on("change",function(){k()});$(m).on("change",function(){k()});$(i).on("change",function(){k()});$(S).on("change",function(){a.toggleTableView()})}function ab(){L();P();T();Q();O();a.updateAccessibility()}return {init:ab}}();$(function(){Wdc.Cpub.Samples.init()})